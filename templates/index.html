<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Simple AI ChatBot</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.8/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-sRIl4kxILFvY47J16cr9ZwB07vP4J8+LH7qKQnuqkuIAvNWLzeN8tE5YBujZqJLB" crossorigin="anonymous">
</head>
<body class="bg-light">
    <div class="contrainer py-5">
        <h2 class="mb4">Simple ChatBot</h2>
        <div class="card">
            <div class="card-body">
                <div id="chat-box" class="mb-3" style="height:300px; overflow-y: auto;">

                </div>
                <div class="input-group">
                    <input type="text" id="user-input" class="form-control" placeholder="Ask me anything...">
                    <button class="btn btn-primary" onclick="sendMessage()">Send</button>
                </div>
            </div>
        </div>
    </div>
    


    <script>
        async function sendMessage() {
            const input = document.getElementById('user-input');
            const question = input.value;
            if (!question) return;

            const chatBox = document.getElementById('chat-box');
            chatBox.innerHTML += `<div><strong>You:</strong> ${question}</div>`;
            input.value = ""
            console.log(question);
            
            const response = await fetch('/inference', {
                method:'POST',
                headers: {"Content-Type": "application/json"},
                body:JSON.stringify({question: question})
            })
            const data = await response.json();
            console.log(data)
            chatBox.innerHTML += `<div><strong>Bot:</strong> ${data.answer}</div>`;
            chatBox.scrollTop = chatBox.scrollHeight;


        }
    </script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.8/dist/js/bootstrap.bundle.min.js" integrity="sha384-FKyoEForCGlyvwx9Hj09JcYn3nv7wiPVlz7YYwJrWVcXK/BmnVDxM+D2scQbITxI" crossorigin="anonymous"></script>
</body>
</html>